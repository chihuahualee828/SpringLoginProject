<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
<style>
input::-webkit-outer-spin-button,
input::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}
</style>
<meta charset="UTF-8">
<title>登出</title>
</head>
<body>
    <form style="margin: auto; width: 220px;" th:object="${account}" method="post">
        <h2>Create Account</h2>
        
        <div th:text="${errorMessage}"></div>
        
        <p>
         ID<br>
          <input type="number" th:field="*{id}" required autofocus/>
        </p>
        <p>
         User Name       
          <input type="text" th:field="*{name}" required/>
        </p>
        <p>
         Password
          <input type="password" th:field="*{password}" required/>
        </p>
        <p>
         email<br>     
          <input type="text" th:field="*{emailAddress}"/>
        </p>
        <p>
         Mobile
          <input type="number" th:field="*{mobile}" value=""/>
        </p>
        <input type="hidden"  th:name="${_csrf.parameterName}"  th:value="${_csrf.token}" />
        <!--<button onclick="submitForm()">Create</button>-->
        <button type="submit">Create</button>
    </form>
</body>

<script type="text/javascript">
	
	function submitForm() {
		
	    var name = document.getElementById("username").value;
	    var id = document.getElementById("userId").value;
	    var password = document.getElementById("Password").value;
	    var email = document.getElementById("email").value;
	    var mobile = document.getElementById("mobile").value;
		
	    const obj={
					"name": name,
					"id": id,
					"password": password,
					"emailAddress": email,
					"mobile": mobile
				};
	    
	    
	    jQuery.ajax({
			type: "POST",
			url: 'register_page',
			dataType: 'json',
			contentType: "application/json",

		    data: JSON.stringify(obj)
			
			/**
			data: {
				username: name,
				userId: id,
				password: password,
				email: email,
				mobile: mobile
			},
			**/
		});
	    
	    
	}
	
	
</script>
</html>